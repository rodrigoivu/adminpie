<div class="fondo-negro animated fadeIn" [ngClass]="_modalCreaPacienteService.oculto" >
	<div class="modal" style="display: block;" tabindex="-1" role="dialog">
	  <div class="modal-dialog modal-lg" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	      	<h5 class="modal-title">Ingresar nuevo paciente</h5>
	      	
	        <button (click)="cerrarModal()" type="button" class="close"  aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
	      
	      <div class="modal-body modal-body-i" >
            	<!-- <form ngNativeValidate [formGroup]="forma" (ngSubmit)="btnGuardar()" id="Formulario"> -->
            	    <div class="card text-light" >
					  <div class="card-header bg-dark ">Información General</div>
					  <div class="card-body text-body shadow p-3 mb-5 bg-white rounded">
					    <form ngNativeValidate [formGroup]="forma" (ngSubmit)="btnGuardar()" id="Formulario">
							  <div class="form-group row">
								    <div class="col-sm-8">
								    	<label for="profesionalAnam" class="col-form-label col-form-label-sm">Nombre completo:</label>
									      <input formControlName="name" type="text" class="form-control form-control-sm" id="profesionalAnam" required>
								    </div>
								    <div class="col-sm-4">
								    	<label for="rut" class=" col-form-label col-form-label-sm">Rut:</label>
									    <input formControlName="rut" type="text" class="form-control form-control-sm" id="rut" placeholder="12345678-5" title="ej. 12345678-5" pattern="[0-9]{7,8}-[0-9Kk]{1}" required>
								    </div>
							  </div>
							  <div class="form-group row">
								    <div class="col-sm-4">
								    	<label for="fecnac" class="col-form-label col-form-label-sm">Fecha de Nacimiento:</label>
									      <input formControlName="fechaNacimiento" type="text" class="form-control form-control-sm" id="fecnac" placeholder="dd-mm-yyyy" title="ej. 1-1-2000" pattern="(0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-\d{4}">
								    </div>
								    <div class="col-sm-4">
								    	<label for="edad" class=" col-form-label col-form-label-sm">Edad:</label>
								    	<h4 class=" text-primary">{{edadPaciente}}&nbsp;años</h4>
									    <!-- <input  type="text" class="form-control form-control-sm" id="edad" disabled=""> -->
								    </div>
								    
							  </div>
							  <div class="form-group row">
								    <div class="col-sm-4">
								    	<label for="profesionalAnam" class="col-form-label col-form-label-sm">Email:</label>
									      <input formControlName="email" type="email" class="form-control form-control-sm" id="profesionalAnam" >
								    </div>
								    <div class="col-sm-4">
								    	<label for="fechaEvAnam" class=" col-form-label col-form-label-sm">Teléfono fijo:</label>
									    <input formControlName="fijo" type="text" class="form-control form-control-sm" id="fechaEvAnam" >
								    </div>
								    <div class="col-sm-4">
								    	<label for="fechaEvAnam" class=" col-form-label col-form-label-sm">Celular:</label>
									    <input formControlName="celular" type="text" class="form-control form-control-sm" id="fechaEvAnam" >
								    </div>
							  </div>
							  <div class="form-group row">
								    <div class="col-sm-4">
								    	<label for="profesionalAnam" class="col-form-label col-form-label-sm">Establecimiento:</label>
									      <input formControlName="establecimiento" type="text" class="form-control form-control-sm" id="profesionalAnam" >
								    </div>
								    <div class="col-sm-4">
								    	<label for="fechaEvAnam" class=" col-form-label col-form-label-sm">Nivel:</label>
									    <input formControlName="nivel" type="text" class="form-control form-control-sm" id="fechaEvAnam" >
								    </div>
								    
							  </div>
							  <div class="form-group row">
								    <div class="col-sm-12">
								    	<label for="profesionalAnam" class="col-form-label col-form-label-sm">Dirección:</label>
									      <input formControlName="direccion" type="text" class="form-control form-control-sm" id="profesionalAnam" >
								    </div>
								    
								    
							  </div>
						</form>
					  </div>
				  </div>
				  
				<!-- </form> -->

				<!-- ***************************************** -->
				<!-- AUTORIZACION DE SALIDA -->
				<!-- ***************************************** -->	

					<div *ngIf="!flgCrea" class="card text-light" >
						<div class="card-header bg-dark">
							<div class="row">
								<div class="col-sm-6">
								  	Autorización salida de paciente de Establecimiento Escolar
								</div>
								<div class="col-sm-6 text-right">
									<small> Subido por:&nbsp;{{_modalCreaPacienteService.protocolo1SubidoPor}}</small> 
								</div>
						    </div>
						</div>
						<div class="card-body text-body shadow-sm p-3 bg-white rounded">
							<div class="row">
								<div class="col-sm-3">
									<a *ngIf="_modalCreaPacienteService.autorizacionSalida" [href]="_modalCreaPacienteService.pacienteSeleccionado.autorizacionSalida | pdf" target="_blank">Ver Autorización</a>
									<p *ngIf="!_modalCreaPacienteService.autorizacionSalida" class="text-danger">No existe documento</p>
								</div>
								<div class="col-sm-6">
									<input (change)="seleccionArchivo( $event.target.files[0],1)" type="file" name="file" >
								</div>
								<div class="col-lg-3">
									<button type="button" class="btn btn-block btn-success m-r-10"
						                         (click)="guardarArchivo('autorizacionSalida',1)" 
						                         [disabled]="!archivoSubir1" >
						                    	<i class="fa fa-save"></i>
						                    	Subir archivo
						            </button>
					            </div>
					            
				            </div>	

						</div>	  
					</div>

					<!-- ***************************************** -->
					<!-- AUTORIZACION DE transporte -->
					<!-- ***************************************** -->	

					<div *ngIf="!flgCrea" class="card text-light" >
						<div class="card-header bg-dark  ">
							<div class="row">
								<div class="col-sm-6">
								  	Autorización uso de transporte escolar
								</div>
								<div class="col-sm-6 text-right">
									<small> Subido por:&nbsp;{{_modalCreaPacienteService.protocolo2SubidoPor}}</small> 
								</div>
						    </div>
						</div>
						<div class="card-body text-body shadow-sm p-3 bg-white rounded">
							<div class="row">
								<div class="col-sm-3">
									<a *ngIf="_modalCreaPacienteService.autorizacionTransporte" [href]="_modalCreaPacienteService.pacienteSeleccionado.autorizacionTransporte | pdf" target="_blank">Ver Autorización</a>
									<p *ngIf="!_modalCreaPacienteService.autorizacionTransporte" class="text-danger">No existe documento</p>
								</div>
								<div class="col-sm-6">
									<input (change)="seleccionArchivo( $event.target.files[0],2)" type="file" name="file" >
								</div>
								<div class="col-lg-3">
									<button type="button" class="btn btn-block btn-success m-r-10"
						                         (click)="guardarArchivo('autorizacionTransporte',2)" 
						                         [disabled]="!archivoSubir2" >
						                    	<i class="fa fa-save"></i>
						                    	Subir archivo
						            </button>
					            </div>
					            
				            </div>	

						</div>	  
					</div>


	      </div>
	      <div class="modal-footer">
	        <button (click)="cerrarModal()" type="button" class="btn btn-secondary" >Cerrar</button>
	        <button *ngIf="flgCrea" type="submit" class="btn btn-primary" form="Formulario">Guardar</button>
	        <button *ngIf="!flgCrea" type="submit" class="btn btn-primary" form="Formulario">Actualizar</button>
	      </div>
	    </div>

	  </div>
	</div>
</div>
